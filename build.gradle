/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Scala library project to get you started.
 * For more details take a look at the Scala plugin chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.5/userguide/scala_plugin.html
 */

plugins {
    id 'scala'
    id 'idea'
    id 'eclipse'
    id 'application'
}

version = '1.0'

repositories {
    jcenter()
}

ext{
    scalaMajorVersion = '2.12'
    scalaMinorVersion = '8'
    scalaVersion = "${scalaMajorVersion}.${scalaMinorVersion}"
}

dependencies {
    implementation 'org.scala-lang:scala-library:2.12.8'
    implementation  "org.scala-lang:scala-reflect:${scalaVersion}"

    testImplementation 'junit:junit:4.12'
    testImplementation 'org.assertj:assertj-core:3.6.1'
    testImplementation 'org.mockito:mockito-core:1.10.19'
    testImplementation "org.scalatest:scalatest_${scalaMajorVersion}:3.0.7"
    testImplementation "org.scalamock:scalamock_${scalaMajorVersion}:4.1.0"
    testRuntimeOnly "org.scala-lang.modules:scala-xml_2.12:1.2.0"
}

task scalaTest(dependsOn: ['testClasses'], type: JavaExec) {
    main = 'org.scalatest.tools.Runner'
    args = ['-R', 'build/classes/test', '-o']
    classpath = sourceSets.test.runtimeClasspath
}

test.dependsOn scalaTest

mainClassName = "org.mak.piecetour.app.Main"

jar {
    manifest {
        attributes 'Main-Class': 'org.mak.piecetour.app.Main'
    }
}